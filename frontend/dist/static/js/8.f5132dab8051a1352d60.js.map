{"version":3,"sources":["webpack:///./node_modules/babel-runtime/core-js/get-iterator.js","webpack:///./src/field.js","webpack:///src/pages/FilmInfo/childrens/Booking/index.vue","webpack:///./src/pages/FilmInfo/childrens/Booking/index.vue?cc11","webpack:///./src/pages/FilmInfo/childrens/Booking/index.vue","webpack:///./node_modules/core-js/library/fn/get-iterator.js","webpack:///./node_modules/core-js/library/modules/core.get-iterator.js"],"names":["module","exports","default","__webpack_require__","__esModule","district","cinemasId","Booking","components","CinemaButton","props","created","_this","this","asyncToGenerator_default","regenerator_default","a","mark","_callee","author","_ref","data","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","key","_ref2","_data","i","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","id","_ref3","_data2","_i","wrap","_context","prev","next","$root","token","$http","post","name","$route","params","headers","sent","replace","JSON","parse","undefined","get_iterator_default","done","value","substring","length","timeRanges","cinemas","concat","t0","return","finish","movie_id","toString","push","stage","t1","stop","areas","methods","chooseArea","chooseTime","time","cinemaId","selectCinema","path","$router","query","beforeRouteLeave","to","from","includes","cinema_id","childrens_Booking","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_l","item","attrs","small","on","process-click","_s","click","$event","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","anObject","get","getIterator","it","iterFn","TypeError","call"],"mappings":"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","file":"static/js/8.f5132dab8051a1352d60.js","sourcesContent":["module.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/get-iterator.js\n// module id = BO1k\n// module chunks = 2 8","export const district = ['番禺', '天河', '黄浦', '白云', '荔湾', '花都', '南沙'];\r\nexport const cinemasId = [1, 2];\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/field.js","<template>\r\n  <div>\r\n    <div class=\"cinemas\">\r\n      <div class=\"cinemas-text left\">区域：</div>\r\n      <div class=\"cinemas-item flex-container\">\r\n       <cinema-button\r\n        v-for=\"item in areas\"\r\n        :key=\"item\"\r\n        class=\"cinema-button\"\r\n        @process-click=\"chooseArea\"\r\n        small>\r\n         {{item}}\r\n       </cinema-button>\r\n      </div>\r\n    </div>\r\n    <div class=\"booking\">\r\n      <div v-for=\"item in cinemas\" :key=\"item.name\" class=\"booking-item flex-container\">\r\n        <div class=\"cinema\">\r\n          <div class=\"cinema-name\">{{item.name}}</div>\r\n        </div>\r\n        <div class=\"time-ranges flex-container\">\r\n          <div\r\n            v-for=\"time in item.timeRanges\"\r\n            :key=\"item.name + time\"\r\n            class=\"time-range pointer\"\r\n            @click=\"chooseTime(time, item.id)\">\r\n            {{time}}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CinemaButton from '@/components/Button';\r\nimport {cinemasId, district} from '@/field';\r\nexport default {\r\n  components: {\r\n    CinemaButton\r\n  },\r\n  props: ['name'],\r\n  async created () {\r\n    const author = this.$root.token;\r\n    let {data} = await this.$http.post('/movie/search', {\r\n      author,\r\n      name: this.$route.params.name\r\n    }, {\r\n      headers: {author}\r\n    });\r\n    data = data.replace(/\"/g, '');\r\n    data = data.replace(/'/g, '\"');\r\n    data = JSON.parse(data);\r\n    this.id = data.id;\r\n    for (let key of district) {\r\n      let {data} = await this.$http.post('/cinema/search', {\r\n        district: key\r\n      }, {\r\n        headers: {author}\r\n      });\r\n      if (data) {\r\n        data = data.replace(/'/g, '\"');\r\n        data = data.replace(/\\{/g, ',{');\r\n        data = data.substring(1);\r\n        data = `[${data}]`;\r\n        data = JSON.parse(data);\r\n        for (let i = 0; i < data.length; i++) data[i].timeRanges = [];\r\n        this.cinemas = this.cinemas.concat(data);\r\n      }\r\n    }\r\n    for (let id of cinemasId) {\r\n      let {data} = await this.$http.post('/cinema/available_movies', {\r\n        id\r\n      }, {\r\n        headers: {author}\r\n      });\r\n      data = data.replace(/'/g, '\"');\r\n      data = JSON.parse(data);\r\n      if (data.movie_id.toString() === this.id.toString()) {\r\n        for (let i = 0; i < this.cinemas.length; i++) {\r\n          if (this.cinemas[i].id === id) {\r\n            this.cinemas[i].timeRanges.push(data.stage);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      areas: ['番禺区', '天河区', '黄浦区', '白云区', '荔湾区', '花都区', '南沙区'],\r\n      cinemas: []\r\n    };\r\n  },\r\n  methods: {\r\n    chooseArea () {\r\n      // 选择影院地区\r\n    },\r\n    chooseTime (time, cinemaId) {\r\n      this.selectCinema = cinemaId;\r\n      const path = this.$route.path;\r\n      this.$router.push({path: `${path}/seat`, query: {time}});\r\n    }\r\n  },\r\n  beforeRouteLeave (to, from, next) {\r\n    if (to.path.includes('seat')) {\r\n      to.params.movie_id = this.id;\r\n      to.params.cinema_id = this.selectCinema;\r\n    }\r\n    next();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.cinemas {\r\n  border: 1px solid #000;\r\n  margin: 30px 0;\r\n}\r\n\r\n.cinemas-text {\r\n  height: 80px;\r\n  line-height: 80px;\r\n  font-size: 16px;\r\n  padding-left: 10px;\r\n}\r\n\r\n.cinemas-item {\r\n  height: 80px;\r\n  margin-left: 80px;\r\n  align-items: center;\r\n}\r\n\r\n.cinema-button {\r\n  margin-right: 15px;\r\n}\r\n\r\n.booking {\r\n  margin-bottom: 50px;\r\n}\r\n\r\n.booking-item {\r\n  border-top: 2px solid #CCC;\r\n  border-bottom: 2px solid #CCC;\r\n}\r\n\r\n.cinema {\r\n  background-color: #F2B7B5;\r\n  flex-basis: 180px;\r\n  position: relative;\r\n  min-height: 50px;\r\n}\r\n\r\n.cinema-name {\r\n  height: 20px;\r\n  line-height: 20px;\r\n  margin-top: -10px;\r\n  width: 100%;\r\n  position: absolute;\r\n  top: 50%;\r\n  text-align: center;\r\n}\r\n\r\n.time-ranges {\r\n  flex-wrap: wrap;\r\n  flex: 1;\r\n}\r\n\r\n.time-range {\r\n  width: 180px;\r\n  height: 50px;\r\n  line-height: 50px;\r\n  background-color: #d7d7d7;\r\n  margin: 30px;\r\n  text-align: center;\r\n}\r\n\r\n.time-range:hover {\r\n  background-color: #999;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/FilmInfo/childrens/Booking/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"cinemas\"},[_c('div',{staticClass:\"cinemas-text left\"},[_vm._v(\"区域：\")]),_vm._v(\" \"),_c('div',{staticClass:\"cinemas-item flex-container\"},_vm._l((_vm.areas),function(item){return _c('cinema-button',{key:item,staticClass:\"cinema-button\",attrs:{\"small\":\"\"},on:{\"process-click\":_vm.chooseArea}},[_vm._v(\"\\n       \"+_vm._s(item)+\"\\n     \")])}))]),_vm._v(\" \"),_c('div',{staticClass:\"booking\"},_vm._l((_vm.cinemas),function(item){return _c('div',{key:item.name,staticClass:\"booking-item flex-container\"},[_c('div',{staticClass:\"cinema\"},[_c('div',{staticClass:\"cinema-name\"},[_vm._v(_vm._s(item.name))])]),_vm._v(\" \"),_c('div',{staticClass:\"time-ranges flex-container\"},_vm._l((item.timeRanges),function(time){return _c('div',{key:item.name + time,staticClass:\"time-range pointer\",on:{\"click\":function($event){_vm.chooseTime(time, item.id)}}},[_vm._v(\"\\n          \"+_vm._s(time)+\"\\n        \")])}))])}))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-60c3b42b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/FilmInfo/childrens/Booking/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-60c3b42b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-60c3b42b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-60c3b42b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/FilmInfo/childrens/Booking/index.vue\n// module id = null\n// module chunks = ","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/get-iterator.js\n// module id = fxRn\n// module chunks = 2 8","var anObject = require('./_an-object');\nvar get = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/core.get-iterator.js\n// module id = g8Ux\n// module chunks = 2 8"],"sourceRoot":""}